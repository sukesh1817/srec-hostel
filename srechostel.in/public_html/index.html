<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        /* Fullscreen loader */
        #loading_indicator {
            position: fixed;
            top: 50%;
            left: 50%;

            z-index: 9999;
            opacity: 1;
            transition: opacity 0.5s ease; /* Adds smooth transition for opacity */
        }
        body {
            visibility: hidden;
        }
    </style>
</head>
<body>
    <div id="loading_indicator" class="spinner-border p-4" role="status"></div>

    <script>
        document.onreadystatechange = function () {
            if (document.readyState !== "complete") {
                document.querySelector("body").style.visibility = "hidden";
                document.getElementById("loading_indicator").style.visibility = "visible";
            } else {
                setTimeout(() => {
                    console.log("sample");
                    // Fade out the spinner
                    const spinner = document.getElementById("loading_indicator");
                    spinner.style.opacity = "0";
                    
                    // Wait for the transition to complete (0.5s) then hide it
                    setTimeout(() => {
                        spinner.style.display = "none";
                        document.querySelector("body").style.visibility = "visible";
                    }, 500); // Matches the duration of the opacity transition
                }, 3000);
            }
        };
    </script>
</body>
</html>
